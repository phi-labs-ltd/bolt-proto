syntax = "proto3";

package bolt.cex.client.v1;

import "bolt/assets/v1/assets.proto";

// Service adapting the CEX communication for Market Maker
service CEXClientService {
  // Queries for balances on CEX accounts
  rpc GetBalances(GetBalancesRequest) returns (GetBalancesResponse);
  // Queries CEX order history 
  rpc GetOrderHistory(GetOrderHistoryRequest) returns (GetOrderHistoryResponse);
}

// Request to query balances on CEX accounts for a specific exchange.
// The `exchange` parameter is required and specifies which exchange to query.
message GetBalancesRequest {
  // exchange: The exchange for which to get the balances
  Exchange exchange = 1;
}

// Response to GetBalancesRequest
message GetBalancesResponse {
  // Assets balances
  repeated bolt.assets.v1.Balance balances = 1;
}

// Request to retrieve order history for a specified time period.
message GetOrderHistoryRequest {
  // A specific instrument name to search.
  optional string instrument_name = 1;
  // Start time in Unix time format (inclusive, nanoseconds recommended)
  optional string start_time = 2;
  // End time in Unix time format (exclusive, nanoseconds recommended)
  optional string end_time = 3;
  // The maximum number of trades to be retrieved before the end_time.
  optional string limit = 4;
}

// Response to GetOrderHistoryRequest
message GetOrderHistoryResponse {
}

// Supported exchanges
enum Exchange {
  // Exchange is not specified - should never be used
  EXCHANGE_UNSPECIFIED = 0;
  // Crypto.com exchange
  EXCHANGE_CRYPTODOTCOM = 1;
  // Gate.io exchange
  EXCHANGE_GATEIO = 2;
}
